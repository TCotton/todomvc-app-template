<template id="view-template">

  <li>
    <span class="view">
      <input class="toggle" type="checkbox" id="view-toggle" />
      <label for="view-toggle">here</label>
      <button is="extend-button" class="destroy"></button>
    </span>
  </li>

</template>

<script>
  /**
   *  <label for="toggle-edit" class="visuallyhidden">Edit the to do entry</label>
   *  <input class="edit" id="toggle-edit" value="Create a TodoMVC template"/>
   */
  (function (document, window) {

    const docU = (document._currentScript || document.currentScript).ownerDocument;
    const template = docU.querySelector('#view-template');

    class ViewComponent extends HTMLElement {

      constructor(key, title, completed) {
        super();
        this._key = key;
        this._title = title;
        this._complete = completed;
      }

      connectedCallback() {

        const temp = docU.importNode(this.buildNode(template.content), true);
        this.appendChild(temp);

      }

      buildNode(content) {

        content.querySelector('input').id = content.querySelector('input').id + '_' + this._key;
        content.querySelector('label').htmlFor = content.querySelector('label').htmlFor + '_' + this._key;
        content.querySelector('li').dataset.id = this._key;
        content.querySelector('label').textContent = this._title;

        if(!!this._complete) {
          content.querySelector('input').setAttribute('checked', 'checked');
        }

        return content;

      }

    }

    window.ViewComponent = ViewComponent;

    window.customElements.define('view-component', ViewComponent);

  })(document, window, Helpers);

</script>
