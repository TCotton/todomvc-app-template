<script>

  (function (doc, win) {

    class HTMLInput extends HTMLElement {

      constructor() {
        super();
      }

      connectedCallback() {

        let input = doc.createElement('INPUT');
        this.appendChild(input);

      }

      static get observedAttributes() {
        return ['type'];
      }

      attributeChangedCallback(attrName, oldVal, newVal) {
        console.dir(newVal);
        this[attrName] = newVal;
      }

      // synchronise attribute and properties

      set type(value) {
        if (Object.is(this._type, value)) {
          return;
        }
        this._type = value;
        console.dir(this);
      }

      get type() {
        return this._type;
      }

    }

    win.customElements.define('html-input', HTMLInput, { extends: 'checkbox' });

  })(document, window);

</script>
